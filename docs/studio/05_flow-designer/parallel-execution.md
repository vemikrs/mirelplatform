# mirel Studio Flow Designer 並列実行（将来拡張案）

> 複数ブランチの同時実行による処理効率化

---

## 1. 目的

- 長時間処理による全体待ちを避ける
- 依存のない複数処理を並行実行
- フローの表現能力を向上させる

---

## 2. 基本モデル

```
ParallelSplitNode
├─ Branch A
├─ Branch B
└─ Branch C
```

並列ブランチは **非同期実行** とし、終了後に MergeNode で合流する。

---

## 3. 新規ノード種別

### 3.1 ParallelSplitNode

| 項目 | 仕様 |
|------|------|
| 条件式 | なし |
| 子ノード | 複数持つ |
| 動作 | 全ブランチを同時開始 |

### 3.2 ParallelMergeNode

| 項目 | 仕様 |
|------|------|
| 動作 | 全ブランチの完了を待つ |
| タイムアウト | 設定あり |

---

## 4. 制約

データ更新は競合しうるため、以下のルールを設ける：

| ルール | 説明 |
|--------|------|
| 共有データの更新禁止 | 競合を防止 |
| スコープ変数への更新 | 許可 |
| MergeNode で集約 | 最終的なデータ統合 |

---

## 5. UI 例

```
[Start]
    │
    ▼
[ParallelSplit]
├── [SendEmail]
├── [PDF生成]
└── [ログ保存]
    │
    ▼
[ParallelMerge]
    │
    ▼
[End]
```

---

## 6. 将来ロードマップ

| バージョン | 状態 |
|-----------|------|
| v2.x | 実験的フラグ |
| v3.x | 安定版リリース予定 |

---

## 7. 設計意図

- 高負荷処理を高速化
- Flow の表現力を拡張
- 現代的なワークフロー要件に対応

---

## 関連ドキュメント

- [ノード体系仕様](./node-spec.md)
- [実行モデル](./execution-model.md)
- [パレット拡張](./palette-extension.md)

---

*Powered by Copilot 🤖*
